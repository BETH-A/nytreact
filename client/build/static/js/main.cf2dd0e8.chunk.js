(this.webpackJsonpnytreact=this.webpackJsonpnytreact||[]).push([[0],{32:function(e,t,n){e.exports=n(63)},37:function(e,t,n){},38:function(e,t,n){},56:function(e,t,n){},63:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),r=n(25),c=n.n(r),i=n(10),o=n(1),s=n(26),u=n(27),m=n(28),d=n(31),h=n(30),f=(n(37),function(e){return l.a.createElement("button",Object.assign({className:"delete-btn"},e),"Remove")}),E=(n(38),function(e){return l.a.createElement("button",Object.assign({className:"save-btn"},e),"Save Article")}),p=function(e){var t=e.children;return l.a.createElement("div",{style:{height:100,clear:"both",paddingTop:18,textAlign:"center"},className:"jumbotron"},t)},g=n(8),v=n.n(g),b=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_API_KEY,N=function(e,t,n){return v.a.get("https://api.nytimes.com/svc/search/v2/articlesearch.json"+"?api-key=".concat(b,"&q=").concat(e,"&begin_date=").concat(t,"&end_date=").concat(n))},Y=function(){return v.a.get("/api/articles")},_=function(e){return v.a.delete("/api/articles/"+e)},T=function(e){return v.a.post("/api/articles",e)},A=function(e){var t=e.size,n=e.children;return l.a.createElement("div",{className:t.split(" ").map((function(e){return"col-"+e})).join(" ")},n)},S=function(e){var t=e.fluid,n=e.children;return l.a.createElement("div",{className:"container".concat(t?"-fluid":"")},n)},O=function(e){var t=e.fluid,n=e.children;return l.a.createElement("div",{className:"row".concat(t?"-fluid":"")},n)},k=(n(56),function(e){var t=e.children;return l.a.createElement("div",{className:"list-overflow-container"},l.a.createElement("ul",{className:"list-group"},t))}),y=function(e){return l.a.createElement("li",{className:"list-group-item"},e.children)},C=function(e){return l.a.createElement("div",{className:"form-group"},l.a.createElement("input",Object.assign({className:"form-control"},e)))},j=function(e){return l.a.createElement("button",Object.assign({},e,{style:{marginBottom:20},className:"btn btn-success"}),e.children)},D=n(11),R=n.n(D),w=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={articles:[],NYTResults:[],topic:"",from:"",to:""},e.deleteArticle=function(t){_(t).then((function(t){return e.loadArticles()})).catch((function(e){return console.log(e)}))},e.handleInputChange=function(t){var n=t.target,a=n.name,l=n.value;e.setState(Object(s.a)({},a,l))},e.createNewArticle=function(t,n){T({title:t,url:n,date:Date.now()}).then((function(t){return e.loadArticles()})).catch((function(e){return console.log(e)}))},e.handleSearchNYT=function(t){t.preventDefault(),e.state.topic&&e.state.from&&e.state.to&&e.getOnlineNYTArticles(e.state.topic,R()(e.state.from).format("YYYYMMDD"),R()(e.state.to).format("YYYYMMDD"))},e}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.loadArticles(),this.getOnlineNYTArticles("Program Coding","20200101","20200630")}},{key:"getOnlineNYTArticles",value:function(e,t,n){var a=this;N(e,t,n).then((function(e){if(e){for(var t=[],n=0;n<(5>e.data.response.docs.length?e.data.response.docs.length:5);n++){var l=e.data.response.docs[n].web_url,r=e.data.response.docs[n].headline.main,c=e.data.response.docs[n].pub_date,i={_id:e.data.response.docs[n]._id,title:r,url:l,pub_date:c};t.push(i)}a.setState({NYTResults:t})}}))}},{key:"loadArticles",value:function(){var e=this;Y().then((function(t){return e.setState({articles:t.data,topic:"",from:"",to:""})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return l.a.createElement(S,{fluid:!0},l.a.createElement(O,null,l.a.createElement(A,{size:"md-12"},l.a.createElement(p,null,l.a.createElement("h1",null,"New York Times Article Scrubber"),l.a.createElement("p",null,"Search for an annotate articles of interest!")),l.a.createElement("form",null,l.a.createElement(C,{value:this.state.topic,onChange:this.handleInputChange,name:"topic",placeholder:"Topic"}),l.a.createElement(C,{value:this.state.from,onChange:this.handleInputChange,name:"from",placeholder:"From Year"}),l.a.createElement(C,{value:this.state.to,onChange:this.handleInputChange,name:"to",placeholder:"To Year"}),l.a.createElement(j,{disabled:!(this.state.topic&&this.state.from&&this.state.to),onClick:this.handleSearchNYT},"Search NYT")))),this.state.NYTResults.length?l.a.createElement(O,null,l.a.createElement(A,{size:"md-12 sm-12"},l.a.createElement("p",null,"5 Search Results:"),l.a.createElement(k,null,this.state.NYTResults.map((function(t){return l.a.createElement(y,{key:t._id},l.a.createElement(i.b,{to:t.url,target:"_blank"},l.a.createElement("strong",null,t.title,l.a.createElement("br",null),t.url,l.a.createElement("br",null),"Published at: ",R()(t.pub_date).format("d/m/Y"))),l.a.createElement(E,{onClick:function(){return e.createNewArticle(t.title,t.url)}}))}))))):l.a.createElement("p",null,"Write a topic and from Year and To Year and click Search!"),l.a.createElement(O,null,l.a.createElement(A,{size:"md-12 sm-12"},l.a.createElement(p,null,l.a.createElement("h1",null,"Saved Articles")),this.state.articles.length?l.a.createElement(k,null,this.state.articles.map((function(t){return l.a.createElement(y,{key:t._id},l.a.createElement(i.b,{to:t.url,target:"_blank"},l.a.createElement("strong",null,"Title: ",t.title,l.a.createElement("br",null),"Link: ",t.url,l.a.createElement("br",null),"Saved at: ",R()(t.date).format("d/m/Y"))),l.a.createElement(f,{onClick:function(){return e.deleteArticle(t._id)}}))}))):l.a.createElement("h3",null,"No Results to Display"))))}}]),n}(a.Component),P=function(){return l.a.createElement(S,{fluid:!0},l.a.createElement(O,null,l.a.createElement(A,{size:"md-12"},l.a.createElement(p,null,l.a.createElement("h1",null,"404 Page Not Found"),l.a.createElement("h1",null,l.a.createElement("span",{role:"img","aria-label":"Face With Rolling Eyes Emoji"},"\ud83d\ude44"))))))},I=function(){return l.a.createElement(i.a,null,l.a.createElement("div",null,l.a.createElement(o.c,null,l.a.createElement(o.a,{exact:!0,path:"/",component:w}),l.a.createElement(o.a,{component:P}))))};c.a.render(l.a.createElement(I,null),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.cf2dd0e8.chunk.js.map